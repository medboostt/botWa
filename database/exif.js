const _0x559b3a=_0x3eae;(function(_0x479a95,_0x41d363){const _0x4d157f=_0x3eae,_0x5483a9=_0x479a95();while(!![]){try{const _0x438e81=parseInt(_0x4d157f(0x139))/0x1*(-parseInt(_0x4d157f(0x14c))/0x2)+parseInt(_0x4d157f(0x12f))/0x3*(parseInt(_0x4d157f(0x125))/0x4)+-parseInt(_0x4d157f(0x144))/0x5*(parseInt(_0x4d157f(0x14a))/0x6)+-parseInt(_0x4d157f(0x12b))/0x7*(-parseInt(_0x4d157f(0x136))/0x8)+-parseInt(_0x4d157f(0x151))/0x9*(parseInt(_0x4d157f(0x135))/0xa)+parseInt(_0x4d157f(0x127))/0xb+parseInt(_0x4d157f(0x130))/0xc;if(_0x438e81===_0x41d363)break;else _0x5483a9['push'](_0x5483a9['shift']());}catch(_0x18fc7f){_0x5483a9['push'](_0x5483a9['shift']());}}}(_0x33d5,0x3b52f));const fs=require('fs'),{tmpdir}=require('os'),Crypto=require(_0x559b3a(0x14b)),ff=require(_0x559b3a(0x14d)),webp=require(_0x559b3a(0x148)),path=require(_0x559b3a(0x12e));async function imageToWebp(_0xa3626){const _0xc4f241=_0x559b3a,_0x3b1043=path[_0xc4f241(0x13e)](tmpdir(),Crypto[_0xc4f241(0x11b)](0x6)[_0xc4f241(0x11d)](0x0,0x6)['toString'](0x24)+_0xc4f241(0x142)),_0x8b800=path['join'](tmpdir(),Crypto[_0xc4f241(0x11b)](0x6)[_0xc4f241(0x11d)](0x0,0x6)[_0xc4f241(0x138)](0x24)+_0xc4f241(0x128));fs[_0xc4f241(0x137)](_0x8b800,_0xa3626),await new Promise((_0x5bfc5a,_0x5b94b8)=>{const _0x454ec3=_0xc4f241;ff(_0x8b800)['on'](_0x454ec3(0x129),_0x5b94b8)['on'](_0x454ec3(0x12a),()=>_0x5bfc5a(!![]))[_0x454ec3(0x132)](['-vcodec',_0x454ec3(0x147),_0x454ec3(0x154),_0x454ec3(0x141)])['toFormat'](_0x454ec3(0x122))[_0x454ec3(0x145)](_0x3b1043);});const _0x103de2=fs['readFileSync'](_0x3b1043);return fs['unlinkSync'](_0x3b1043),fs['unlinkSync'](_0x8b800),_0x103de2;}async function videoToWebp(_0x15119e){const _0x49b3c8=_0x559b3a,_0x2573bd=path['join'](tmpdir(),Crypto[_0x49b3c8(0x11b)](0x6)[_0x49b3c8(0x11d)](0x0,0x6)[_0x49b3c8(0x138)](0x24)+_0x49b3c8(0x142)),_0x25b8a9=path[_0x49b3c8(0x13e)](tmpdir(),Crypto[_0x49b3c8(0x11b)](0x6)['readUIntLE'](0x0,0x6)[_0x49b3c8(0x138)](0x24)+_0x49b3c8(0x13c));fs['writeFileSync'](_0x25b8a9,_0x15119e),await new Promise((_0x413d90,_0x939496)=>{const _0x5a8a3d=_0x49b3c8;ff(_0x25b8a9)['on'](_0x5a8a3d(0x129),_0x939496)['on']('end',()=>_0x413d90(!![]))[_0x5a8a3d(0x132)](['-vcodec',_0x5a8a3d(0x147),_0x5a8a3d(0x154),_0x5a8a3d(0x141),'-loop','0',_0x5a8a3d(0x12c),_0x5a8a3d(0x140),'-t',_0x5a8a3d(0x126),_0x5a8a3d(0x13d),_0x5a8a3d(0x152),'-an',_0x5a8a3d(0x133),'0'])[_0x5a8a3d(0x131)](_0x5a8a3d(0x122))[_0x5a8a3d(0x145)](_0x2573bd);});const _0x4ed4eb=fs[_0x49b3c8(0x146)](_0x2573bd);return fs[_0x49b3c8(0x14e)](_0x2573bd),fs[_0x49b3c8(0x14e)](_0x25b8a9),_0x4ed4eb;}function _0x3eae(_0x3f2c19,_0x7ef1b7){const _0x33d50d=_0x33d5();return _0x3eae=function(_0x3eae57,_0x464912){_0x3eae57=_0x3eae57-0x11b;let _0x56f67a=_0x33d50d[_0x3eae57];return _0x56f67a;},_0x3eae(_0x3f2c19,_0x7ef1b7);}async function writeExifImg(_0x50f1a5,_0x2ca9ed){const _0x15c28b=_0x559b3a;let _0x523ca9=await imageToWebp(_0x50f1a5);const _0x3c9d63=path[_0x15c28b(0x13e)](tmpdir(),Crypto['randomBytes'](0x6)['readUIntLE'](0x0,0x6)[_0x15c28b(0x138)](0x24)+_0x15c28b(0x142)),_0x28078a=path['join'](tmpdir(),Crypto[_0x15c28b(0x11b)](0x6)['readUIntLE'](0x0,0x6)[_0x15c28b(0x138)](0x24)+_0x15c28b(0x142));fs[_0x15c28b(0x137)](_0x3c9d63,_0x523ca9);if(_0x2ca9ed['packname']||_0x2ca9ed[_0x15c28b(0x13b)]){const _0x106269=new webp[(_0x15c28b(0x11c))](),_0x11bf9c={'sticker-pack-id':'https://github.com/DidinDev','sticker-pack-name':_0x2ca9ed['packname'],'sticker-pack-publisher':_0x2ca9ed[_0x15c28b(0x13b)],'emojis':_0x2ca9ed[_0x15c28b(0x143)]?_0x2ca9ed[_0x15c28b(0x143)]:['']},_0x10dba5=Buffer[_0x15c28b(0x134)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x397b8a=Buffer[_0x15c28b(0x134)](JSON[_0x15c28b(0x149)](_0x11bf9c),_0x15c28b(0x120)),_0x25d556=Buffer[_0x15c28b(0x121)]([_0x10dba5,_0x397b8a]);return _0x25d556[_0x15c28b(0x123)](_0x397b8a[_0x15c28b(0x153)],0xe,0x4),await _0x106269[_0x15c28b(0x13f)](_0x3c9d63),fs[_0x15c28b(0x14e)](_0x3c9d63),_0x106269[_0x15c28b(0x11f)]=_0x25d556,await _0x106269[_0x15c28b(0x145)](_0x28078a),_0x28078a;}}async function writeExifVid(_0x70cf29,_0x322182){const _0x3a769d=_0x559b3a;let _0x32de9c=await videoToWebp(_0x70cf29);const _0x585bbd=path['join'](tmpdir(),Crypto[_0x3a769d(0x11b)](0x6)[_0x3a769d(0x11d)](0x0,0x6)[_0x3a769d(0x138)](0x24)+_0x3a769d(0x142)),_0x23b731=path[_0x3a769d(0x13e)](tmpdir(),Crypto[_0x3a769d(0x11b)](0x6)[_0x3a769d(0x11d)](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x3a769d(0x137)](_0x585bbd,_0x32de9c);if(_0x322182[_0x3a769d(0x11e)]||_0x322182[_0x3a769d(0x13b)]){const _0x55a901=new webp[(_0x3a769d(0x11c))](),_0x3083a5={'sticker-pack-id':'https://github.com/DidinDev','sticker-pack-name':_0x322182['packname'],'sticker-pack-publisher':_0x322182[_0x3a769d(0x13b)],'emojis':_0x322182[_0x3a769d(0x143)]?_0x322182[_0x3a769d(0x143)]:['']},_0x1f4d51=Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x50f31b=Buffer[_0x3a769d(0x134)](JSON['stringify'](_0x3083a5),'utf-8'),_0x59a408=Buffer['concat']([_0x1f4d51,_0x50f31b]);return _0x59a408[_0x3a769d(0x123)](_0x50f31b[_0x3a769d(0x153)],0xe,0x4),await _0x55a901[_0x3a769d(0x13f)](_0x585bbd),fs[_0x3a769d(0x14e)](_0x585bbd),_0x55a901[_0x3a769d(0x11f)]=_0x59a408,await _0x55a901[_0x3a769d(0x145)](_0x23b731),_0x23b731;}}async function writeExif(_0x5570a7,_0x432b10){const _0x41244d=_0x559b3a;let _0x872712=/webp/['test'](_0x5570a7[_0x41244d(0x12d)])?_0x5570a7[_0x41244d(0x14f)]:/image/[_0x41244d(0x150)](_0x5570a7[_0x41244d(0x12d)])?await imageToWebp(_0x5570a7[_0x41244d(0x14f)]):/video/[_0x41244d(0x150)](_0x5570a7['mimetype'])?await videoToWebp(_0x5570a7[_0x41244d(0x14f)]):'';const _0x4b402e=path[_0x41244d(0x13e)](tmpdir(),Crypto[_0x41244d(0x11b)](0x6)['readUIntLE'](0x0,0x6)[_0x41244d(0x138)](0x24)+_0x41244d(0x142)),_0x27241c=path['join'](tmpdir(),Crypto[_0x41244d(0x11b)](0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x41244d(0x142));fs['writeFileSync'](_0x4b402e,_0x872712);if(_0x432b10[_0x41244d(0x11e)]||_0x432b10[_0x41244d(0x13b)]){const _0x511320=new webp[(_0x41244d(0x11c))](),_0x4a490a={'sticker-pack-id':_0x41244d(0x13a),'sticker-pack-name':_0x432b10['packname'],'sticker-pack-publisher':_0x432b10['author'],'emojis':_0x432b10[_0x41244d(0x143)]?_0x432b10[_0x41244d(0x143)]:['']},_0x170981=Buffer[_0x41244d(0x134)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x201525=Buffer[_0x41244d(0x134)](JSON[_0x41244d(0x149)](_0x4a490a),_0x41244d(0x120)),_0x13f9d1=Buffer[_0x41244d(0x121)]([_0x170981,_0x201525]);return _0x13f9d1['writeUIntLE'](_0x201525['length'],0xe,0x4),await _0x511320[_0x41244d(0x13f)](_0x4b402e),fs[_0x41244d(0x14e)](_0x4b402e),_0x511320[_0x41244d(0x11f)]=_0x13f9d1,await _0x511320[_0x41244d(0x145)](_0x27241c),_0x27241c;}}module[_0x559b3a(0x124)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExif':writeExif};function _0x33d5(){const _0xf3c80a=['load','00:00:00','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','.webp','categories','4955BYPSGF','save','readFileSync','libwebp','node-webpmux','stringify','540ejkejv','crypto','164NhRjJm','fluent-ffmpeg','unlinkSync','data','test','1552860bcgyHH','default','length','-vf','randomBytes','Image','readUIntLE','packname','exif','utf-8','concat','webp','writeUIntLE','exports','174872tazXHF','00:00:05','1267739hsahSK','.jpg','error','end','197533iFaAAv','-ss','mimetype','path','18zruFzy','1306920MpCFFI','toFormat','addOutputOptions','-vsync','from','10vymMOI','96UMrAIf','writeFileSync','toString','3907YcFlpn','https://github.com/DidinDev','author','.mp4','-preset','join'];_0x33d5=function(){return _0xf3c80a;};return _0x33d5();}